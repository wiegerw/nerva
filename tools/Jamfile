project nerva_tools
   : requirements
       <library>/nerva//nervalib
       <linkflags>-lpython3.10  # TODO: find a better way to do this
   ;

exe mlp_colwise            : mlp.cpp : <scalar>float  <orientation>colwise <computation>eigen ;
exe mlp_rowwise            : mlp.cpp : <scalar>float  <orientation>rowwise <computation>eigen ;
exe mlp_colwise_double     : mlp.cpp : <scalar>double <orientation>colwise <computation>eigen ;
exe mlp_rowwise_double     : mlp.cpp : <scalar>double <orientation>rowwise <computation>eigen ;
exe mlp_colwise_mkl        : mlp.cpp : <scalar>float  <orientation>colwise <computation>mkl ;
exe mlp_rowwise_mkl        : mlp.cpp : <scalar>float  <orientation>rowwise <computation>mkl ;
exe mlp_colwise_mkl_double : mlp.cpp : <scalar>double <orientation>colwise <computation>mkl ;
exe mlp_rowwise_mkl_double : mlp.cpp : <scalar>double <orientation>rowwise <computation>mkl ;
exe mkl : mkl.cpp : <scalar>float ;

install dist
  :
    mkl
    mlp_colwise
    mlp_rowwise
    mlp_colwise_double
    mlp_rowwise_double
    mlp_colwise_mkl
    mlp_rowwise_mkl
    mlp_colwise_mkl_double
    mlp_rowwise_mkl_double
  ;
